<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="logic-list">
      <div class="nav">
        <a href="../index.html"><span>&#x2302;</span> Home</a>
        <a>Page 5/5 <span>&#x25A1;</span></a>
      </div>

      <h1>Kalkulator Sederhana</h1>
      <p>
        Gunakan kalkulator ini untuk melakukan operasi matematika sederhana
        seperti penjumlahan, pengurangan, perkalian, dan pembagian pada
        sekumpulan angka.
      </p>

      <h3>Cara Penggunaan:</h3>
      <ol>
        <li>Masukkan angka ke dalam input</li>
        <li>Pilih operasi yang ingin dilakukan</li>
        <li>Klik tombol "Hitung"</li>
        <li>Akan muncul alert hasil perhitungan</li>
      </ol>

      <form id="calculate-form">
        <label for="angka">Masukan angka</label>
        <input type="text" id="angka" placeholder="Contoh: 1,2,3" />

        <label for="operasi">Pilih operasi</label>
        <select id="operasi">
          <option value="penjumlahan">penjumlahan</option>
          <option value="pengurangan">pengurangan</option>
          <option value="perkalian">perkalian</option>
          <option value="pembagian">pembagian</option>
        </select>

        <button type="submit">Hitung</button>
      </form>

      <div class="prev-next">
        <div class="prev-container">
          <button class="action-button">
            <a href="mengurutkan.html">&lt;&lt;&lt; Prev</a>
          </button>
          <p class="prev">Mengurutkan Angka</p>
        </div>

        <div class="next-container">
          <button class="action-button">
            <a href="perbandingan.html">Next &gt;&gt;&gt;</a>
          </button>
          <p class="next">Bandingkan Array</p>
        </div>
      </div>
    </div>

    <script>
      function isiArrayPertambahan(arr) {
        return arr.reduce((sum, num) => sum + num, 0);
      }

      function isiArrayPengurangan(arr) {
        return arr.reduce((sum, num) => sum - num);
      }

      function isiArrayPerkalian(arr) {
        return arr.reduce((sum, num) => sum * num, 1);
      }

      function isiArrayPembagian(arr) {
        return arr.reduce((sum, num) => sum / num);
      }

      document
        .getElementById("calculate-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const input = document.getElementById("angka").value.trim();
          const operasi = document.getElementById("operasi").value;

          if (input.length === 0) {
            return alert("input tidak boleh kosong");
          }

          // Cek apakah input tidak memiliki pemisah (spasi, koma, titik)
          if (/^\d+$/.test(input)) {
            return alert(
              "Mohon gunakan pemisah seperti koma, spasi, atau titik antara angka!"
            );
          }

          const angka = input
            .replace(/[.,\s]+/g, ",")
            .split(",")
            .map(Number);

          if (angka.some(isNaN)) {
            return alert("Mohon masukkan angka yang valid!");
          }

          // Jalankan operasi yang sesuai
          let hasilHitung;
          switch (operasi) {
            case "penjumlahan":
              hasilHitung = isiArrayPertambahan(angka);
              break;
            case "pengurangan":
              hasilHitung = isiArrayPengurangan(angka);
              break;
            case "perkalian":
              hasilHitung = isiArrayPerkalian(angka);
              break;
            case "pembagian":
              hasilHitung = isiArrayPembagian(angka);
              break;
            default:
              hasilHitung = "Operasi tidak valid!";
          }

          alert(
            `Hasil ${operasi}:\n ${hasilHitung} \n\nCatatan: untuk angka ribuan, tulis tanpa menggunakan pemisah seperti titik atau koma.`
          );
        });
    </script>
  </body>
</html>
